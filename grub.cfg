set timeout=-1
set default=0

# Load video modules first
insmod all_video
insmod vbe
insmod vga
insmod video_bochs
insmod video_cirrus

# Graphics mode configuration
# The kernel automatically detects and adapts to whatever resolution is provided
set gfxmode=1024x768x32,1024x768,800x600x32,auto
set gfxpayload=keep

# Switch to graphical terminal
terminal_output gfxterm

menuentry "System 7.1" {
    set gfxpayload=keep
    multiboot2 /boot/kernel.elf
    boot
}